<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Woopsi: woopsifuncs.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>woopsifuncs.h</h1>  </div>
</div>
<div class="contents">
<div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/* Contributed by Steven</span>
<a name="l00002"></a>00002 <span class="comment"> * 20071213</span>
<a name="l00003"></a>00003 <span class="comment"> * - Minor modifications and SDL code by Ant</span>
<a name="l00004"></a>00004 <span class="comment"> */</span>
<a name="l00005"></a>00005 
<a name="l00006"></a>00006 <span class="preprocessor">#ifndef _WOOPSIFUNCS_H_</span>
<a name="l00007"></a>00007 <span class="preprocessor"></span><span class="preprocessor">#define _WOOPSIFUNCS_H_</span>
<a name="l00008"></a>00008 <span class="preprocessor"></span>
<a name="l00009"></a>00009 <span class="preprocessor">#include &lt;nds.h&gt;</span>
<a name="l00010"></a>00010 <span class="preprocessor">#include &quot;framebuffer.h&quot;</span>
<a name="l00011"></a>00011 <span class="preprocessor">#include &quot;bitmapwrapper.h&quot;</span>
<a name="l00012"></a>00012 <span class="preprocessor">#include &quot;gadgetstyle.h&quot;</span>
<a name="l00013"></a><a class="code" href="struct_p_a_d.html#a6090787be8a55f8b8109299cd7870cb6">00013</a> <span class="preprocessor">#include &quot;newtopaz.h&quot;</span>
<a name="l00014"></a><a class="code" href="struct_p_a_d.html#a578d94ff84ed662079971d56250b942c">00014</a> <span class="preprocessor">#include &quot;glyphfont.h&quot;</span>
<a name="l00015"></a><a class="code" href="struct_p_a_d.html#acf54fe1e2bdc762f3151650fc1de63ce">00015</a> <span class="preprocessor">#include &quot;defines.h&quot;</span>
<a name="l00016"></a><a class="code" href="struct_p_a_d.html#ae85521a7cc751f8ffc0e4961287763bf">00016</a> 
<a name="l00020"></a><a class="code" href="struct_p_a_d.html#a4c1ca9106ec04122923fd513a60cf9c1">00020</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_p_a_d.html">PAD</a> {
<a name="l00021"></a><a class="code" href="struct_p_a_d.html#af920ff9f21ed1a2c20f598c7da976fd4">00021</a>         <span class="keyword">union </span>{
<a name="l00022"></a><a class="code" href="struct_p_a_d.html#adfbd1bf995bdd2f1a74e5ec5a988404d">00022</a>                 <span class="keyword">struct </span>{
<a name="l00023"></a><a class="code" href="struct_p_a_d.html#a428eddeed6a00123b04ebff5a5dab3bf">00023</a>                         u16 <a class="code" href="struct_p_a_d.html#a6090787be8a55f8b8109299cd7870cb6">A</a>:1;                        
<a name="l00024"></a><a class="code" href="struct_p_a_d.html#ae8e519877b8fd7a2b534aaf6fa31a327">00024</a>                         u16 <a class="code" href="struct_p_a_d.html#a578d94ff84ed662079971d56250b942c">B</a>:1;                        
<a name="l00025"></a><a class="code" href="struct_p_a_d.html#a714ab74916a7b1469b536b4a6a4a1ee4">00025</a>                         u16 <a class="code" href="struct_p_a_d.html#acf54fe1e2bdc762f3151650fc1de63ce">Select</a>:1;           
<a name="l00026"></a><a class="code" href="struct_p_a_d.html#a7f49add628b122130781d4466557770d">00026</a>                         u16 <a class="code" href="struct_p_a_d.html#ae85521a7cc751f8ffc0e4961287763bf">Start</a>:1;            
<a name="l00027"></a>00027                         u16 <a class="code" href="struct_p_a_d.html#a6b4a96cb420b979ff7b111f4957bd2d5">Right</a>:1;            
<a name="l00028"></a>00028                         u16 <a class="code" href="struct_p_a_d.html#a6be29161a1869144e40327fdb2d29df2">Left</a>:1;                     
<a name="l00029"></a><a class="code" href="struct_p_a_d.html#a10e2bf1d50267e62ae7b3307ad0b831c">00029</a>                         u16 <a class="code" href="struct_p_a_d.html#a525e10516d089282c74f9655624792fb">Up</a>:1;                       
<a name="l00030"></a>00030                         u16 <a class="code" href="struct_p_a_d.html#a4c1ca9106ec04122923fd513a60cf9c1">Down</a>:1;                     
<a name="l00031"></a>00031                         u16 <a class="code" href="struct_p_a_d.html#af920ff9f21ed1a2c20f598c7da976fd4">R</a>:1;                        
<a name="l00032"></a>00032                         u16 <a class="code" href="struct_p_a_d.html#adfbd1bf995bdd2f1a74e5ec5a988404d">L</a>:1;                        
<a name="l00033"></a>00033                         u16 <a class="code" href="struct_p_a_d.html#a428eddeed6a00123b04ebff5a5dab3bf">X</a>:1;                        
<a name="l00034"></a>00034                         u16 <a class="code" href="struct_p_a_d.html#ae8e519877b8fd7a2b534aaf6fa31a327">Y</a>:1;                        
<a name="l00035"></a>00035                         u16 <a class="code" href="struct_p_a_d.html#a714ab74916a7b1469b536b4a6a4a1ee4">Touch</a>:1;            
<a name="l00036"></a>00036                         u16 <a class="code" href="struct_p_a_d.html#a7f49add628b122130781d4466557770d">Lid</a>:1;                      
<a name="l00037"></a>00037                 };
<a name="l00038"></a>00038                 u16 <a class="code" href="struct_p_a_d.html#a10e2bf1d50267e62ae7b3307ad0b831c">AllKeys</a>;                    
<a name="l00039"></a>00039         };
<a name="l00040"></a>00040 } <a class="code" href="struct_p_a_d.html">_pad</a>;
<a name="l00041"></a>00041 
<a name="l00045"></a><a class="code" href="struct_pad_held_time_struct.html">00045</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_pad_held_time_struct.html">PadHeldTimeStruct</a> {
<a name="l00046"></a><a class="code" href="struct_pad_held_time_struct.html#adc331b1b64465472fcf5872a5f8998af">00046</a>         u32 <a class="code" href="struct_pad_held_time_struct.html#adc331b1b64465472fcf5872a5f8998af">A</a>;                  
<a name="l00047"></a><a class="code" href="struct_pad_held_time_struct.html#a1466b6257d2eea4d42296e04b73228ad">00047</a>         u32 <a class="code" href="struct_pad_held_time_struct.html#a1466b6257d2eea4d42296e04b73228ad">B</a>;                  
<a name="l00048"></a><a class="code" href="struct_pad_held_time_struct.html#a5208e2dce4206b5323927375873f546c">00048</a>         u32 <a class="code" href="struct_pad_held_time_struct.html#a5208e2dce4206b5323927375873f546c">Select</a>;             
<a name="l00049"></a><a class="code" href="struct_pad_held_time_struct.html#ad302ae465ae630d13894f9a9203df4da">00049</a>         u32 <a class="code" href="struct_pad_held_time_struct.html#ad302ae465ae630d13894f9a9203df4da">Start</a>;              
<a name="l00050"></a><a class="code" href="struct_pad_held_time_struct.html#a6e61467d2792f0c196b86106bdc4b8a7">00050</a>         u32 <a class="code" href="struct_pad_held_time_struct.html#a6e61467d2792f0c196b86106bdc4b8a7">Right</a>;              
<a name="l00051"></a><a class="code" href="struct_pad_held_time_struct.html#a67f58a5ea8d92c213185e7dc8e2c6211">00051</a>         u32 <a class="code" href="struct_pad_held_time_struct.html#a67f58a5ea8d92c213185e7dc8e2c6211">Left</a>;               
<a name="l00052"></a><a class="code" href="struct_pad_held_time_struct.html#a4760208df9de336022f1cb3024311405">00052</a>         u32 <a class="code" href="struct_pad_held_time_struct.html#a4760208df9de336022f1cb3024311405">Up</a>;                 
<a name="l00053"></a><a class="code" href="struct_pad_held_time_struct.html#a7308574924074ccfec5b88f420adb847">00053</a>         u32 <a class="code" href="struct_pad_held_time_struct.html#a7308574924074ccfec5b88f420adb847">Down</a>;               
<a name="l00054"></a><a class="code" href="struct_pad_held_time_struct.html#a0d43ef54716bd2289b0fbc31ae5ba4a2">00054</a>         u32 <a class="code" href="struct_pad_held_time_struct.html#a0d43ef54716bd2289b0fbc31ae5ba4a2">R</a>;                  
<a name="l00055"></a><a class="code" href="struct_pad_held_time_struct.html#aec22609f83060efa0a6273cd5883c048">00055</a>         u32 <a class="code" href="struct_pad_held_time_struct.html#aec22609f83060efa0a6273cd5883c048">L</a>;                  
<a name="l00056"></a><a class="code" href="struct_pad_held_time_struct.html#a00f4a8a80ce2e4b5023cc87cf36972f5">00056</a>         u32 <a class="code" href="struct_pad_held_time_struct.html#a00f4a8a80ce2e4b5023cc87cf36972f5">X</a>;                  
<a name="l00057"></a><a class="code" href="struct_pad_held_time_struct.html#a1504bfa90bcff1ba6af2f4a51743e577">00057</a>         u32 <a class="code" href="struct_pad_held_time_struct.html#a1504bfa90bcff1ba6af2f4a51743e577">Y</a>;                  
<a name="l00058"></a>00058 } <a class="code" href="struct_pad_held_time_struct.html">PadHeldTime</a>;
<a name="l00059"></a>00059 
<a name="l00063"></a><a class="code" href="struct_p_a_d_s.html">00063</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_p_a_d_s.html">PADS</a> {
<a name="l00064"></a><a class="code" href="struct_p_a_d_s.html#a05f20ba5b707b32c860e223b99996b00">00064</a>    <a class="code" href="struct_p_a_d.html">_pad</a> <a class="code" href="struct_p_a_d_s.html#a05f20ba5b707b32c860e223b99996b00">Held</a>;                                   
<a name="l00065"></a><a class="code" href="struct_p_a_d_s.html#a70c774dbc3c0e84c843373768db9f534">00065</a>    <a class="code" href="struct_p_a_d.html">_pad</a> <a class="code" href="struct_p_a_d_s.html#a70c774dbc3c0e84c843373768db9f534">Released</a>;                               
<a name="l00066"></a><a class="code" href="struct_p_a_d_s.html#a0b1e19338b4d2a5be010b3acac946daf">00066</a>    <a class="code" href="struct_p_a_d.html">_pad</a> <a class="code" href="struct_p_a_d_s.html#a0b1e19338b4d2a5be010b3acac946daf">Newpress</a>;                               
<a name="l00067"></a><a class="code" href="struct_p_a_d_s.html#a6eb1346ad2aa41dc9dc506b7bd07bbaa">00067</a>         <a class="code" href="struct_pad_held_time_struct.html">PadHeldTime</a> <a class="code" href="struct_p_a_d_s.html#a6eb1346ad2aa41dc9dc506b7bd07bbaa">HeldTime</a>;           
<a name="l00068"></a>00068 } <a class="code" href="struct_p_a_d_s.html">_pads</a>;
<a name="l00069"></a>00069 
<a name="l00073"></a><a class="code" href="struct_s_t_y_l_u_s.html">00073</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_s_t_y_l_u_s.html">STYLUS</a> {
<a name="l00074"></a><a class="code" href="struct_s_t_y_l_u_s.html#a5f42cb11265416732457d6297bfa2b03">00074</a>         u8 <a class="code" href="struct_s_t_y_l_u_s.html#a5f42cb11265416732457d6297bfa2b03">Held</a>:1;                                      
<a name="l00075"></a><a class="code" href="struct_s_t_y_l_u_s.html#a03c1792db78c8fb4ca158a91702058d6">00075</a>         u8 <a class="code" href="struct_s_t_y_l_u_s.html#a03c1792db78c8fb4ca158a91702058d6">Released</a>:1;                          
<a name="l00076"></a><a class="code" href="struct_s_t_y_l_u_s.html#a15178d184763642a0de7cc55ab110232">00076</a>         u8 <a class="code" href="struct_s_t_y_l_u_s.html#a15178d184763642a0de7cc55ab110232">Newpress</a>:1;                          
<a name="l00077"></a><a class="code" href="struct_s_t_y_l_u_s.html#a3594f8bdbfc811c8b4538547072b0dfb">00077</a>         u8 <a class="code" href="struct_s_t_y_l_u_s.html#a3594f8bdbfc811c8b4538547072b0dfb">unused</a>:5;                            
<a name="l00078"></a><a class="code" href="struct_s_t_y_l_u_s.html#a268e3be45f4d00b82acd22301be5470f">00078</a>         s16 <a class="code" href="struct_s_t_y_l_u_s.html#a268e3be45f4d00b82acd22301be5470f">X</a>;                                          
<a name="l00079"></a><a class="code" href="struct_s_t_y_l_u_s.html#a48351809907b9d44616e4b7e688b0a0e">00079</a>         s16 <a class="code" href="struct_s_t_y_l_u_s.html#a48351809907b9d44616e4b7e688b0a0e">Y</a>;                                          
<a name="l00080"></a><a class="code" href="struct_s_t_y_l_u_s.html#ab105d108dfe2b60a6666083480ed4a60">00080</a>         s16 <a class="code" href="struct_s_t_y_l_u_s.html#ab105d108dfe2b60a6666083480ed4a60">Vx</a>;                                         
<a name="l00081"></a><a class="code" href="struct_s_t_y_l_u_s.html#aaa4c7121e8375311e9f122e6dc439487">00081</a>         s16 <a class="code" href="struct_s_t_y_l_u_s.html#aaa4c7121e8375311e9f122e6dc439487">Vy</a>;                                         
<a name="l00082"></a><a class="code" href="struct_s_t_y_l_u_s.html#af43a148e5aba6d77607f9ea53060dab9">00082</a>         s16 <a class="code" href="struct_s_t_y_l_u_s.html#af43a148e5aba6d77607f9ea53060dab9">oldVx</a>;                                      
<a name="l00083"></a><a class="code" href="struct_s_t_y_l_u_s.html#ad463b1f36c19418f59f7675701824d82">00083</a>         s16 <a class="code" href="struct_s_t_y_l_u_s.html#ad463b1f36c19418f59f7675701824d82">oldVy</a>;                                      
<a name="l00084"></a><a class="code" href="struct_s_t_y_l_u_s.html#a773a4056e6d6f642da88789399ccc699">00084</a>         s16 <a class="code" href="struct_s_t_y_l_u_s.html#a773a4056e6d6f642da88789399ccc699">Downtime</a>;                           
<a name="l00085"></a><a class="code" href="struct_s_t_y_l_u_s.html#acaef6002f1ae428444fe8d2c9ea5cea7">00085</a>         s16 <a class="code" href="struct_s_t_y_l_u_s.html#acaef6002f1ae428444fe8d2c9ea5cea7">Uptime</a>;                                     
<a name="l00086"></a><a class="code" href="struct_s_t_y_l_u_s.html#a75bb83a991fe1ed71b65540fe6c9d8e5">00086</a>         s16 <a class="code" href="struct_s_t_y_l_u_s.html#a75bb83a991fe1ed71b65540fe6c9d8e5">DblClick</a>;                           
<a name="l00087"></a>00087 } <a class="code" href="struct_s_t_y_l_u_s.html">_stylus</a>;
<a name="l00088"></a>00088 
<a name="l00092"></a>00092 <span class="keyword">extern</span> <a class="code" href="struct_p_a_d_s.html">_pads</a> Pad;
<a name="l00093"></a>00093 
<a name="l00097"></a>00097 <span class="keyword">extern</span> <a class="code" href="struct_s_t_y_l_u_s.html">_stylus</a> Stylus;
<a name="l00098"></a>00098 
<a name="l00099"></a>00099 <span class="preprocessor">#ifdef USING_SDL</span>
<a name="l00100"></a>00100 <span class="preprocessor"></span>
<a name="l00101"></a>00101 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
<a name="l00102"></a>00102 <span class="preprocessor">#include &lt;stdlib.h&gt;</span>
<a name="l00103"></a>00103 <span class="preprocessor">#include &lt;string.h&gt;</span>
<a name="l00104"></a>00104 <span class="preprocessor">#include &lt;math.h&gt;</span>
<a name="l00105"></a>00105 
<a name="l00106"></a>00106 <span class="keywordtype">void</span> updatePadState(<span class="keywordtype">int</span> sdlKey, u16* heldKey, u16* newpressKey, u16* releasedKey, u16* heldTimeKey);
<a name="l00107"></a>00107 
<a name="l00108"></a>00108 <span class="preprocessor">#else</span>
<a name="l00109"></a>00109 <span class="preprocessor"></span>
<a name="l00110"></a>00110 <span class="preprocessor">#include &lt;nds/memory.h&gt;</span>
<a name="l00111"></a>00111 <span class="preprocessor">#include &lt;nds/bios.h&gt;</span>
<a name="l00112"></a>00112 
<a name="l00113"></a>00113 <span class="preprocessor">#endif</span>
<a name="l00114"></a>00114 <span class="preprocessor"></span>
<a name="l00118"></a>00118 <span class="keyword">extern</span> <a class="code" href="class_woopsi_u_i_1_1_frame_buffer.html">WoopsiUI::FrameBuffer</a>* frameBuffer[2];
<a name="l00119"></a>00119 
<a name="l00123"></a>00123 <span class="keyword">extern</span> <a class="code" href="class_woopsi_u_i_1_1_gadget_style.html">WoopsiUI::GadgetStyle</a>* defaultGadgetStyle;
<a name="l00124"></a>00124 
<a name="l00129"></a>00129 <span class="keywordtype">void</span> initWoopsiGfxMode();
<a name="l00130"></a>00130 
<a name="l00134"></a>00134 <span class="keywordtype">void</span> woopsiInitDefaultGadgetStyle();
<a name="l00135"></a>00135 
<a name="l00139"></a>00139 <span class="keywordtype">void</span> woopsiFreeDefaultGadgetStyle();
<a name="l00140"></a>00140 
<a name="l00144"></a>00144 <span class="keywordtype">void</span> woopsiFreeFrameBuffers();
<a name="l00145"></a>00145 
<a name="l00149"></a>00149 <span class="keywordtype">void</span> woopsiWaitVBL();
<a name="l00150"></a>00150 
<a name="l00156"></a>00156 <span class="keywordtype">void</span> woopsiUpdateInput();
<a name="l00157"></a>00157 
<a name="l00158"></a>00158 <span class="preprocessor">#endif</span>
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
